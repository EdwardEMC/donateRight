function updateUser(){switch(document.getElementById("userType").selectedIndex){case 0:$("#uRegistration").addClass("is-hidden"),$("#cuRegistration").addClass("is-hidden"),$("#cRegistration").addClass("is-hidden");break;case 1:$("#uRegistration").removeClass("is-hidden"),$("#cuRegistration").addClass("is-hidden"),$("#cRegistration").addClass("is-hidden");break;case 2:$("#cuRegistration").removeClass("is-hidden"),$("#uRegistration").addClass("is-hidden"),$("#cRegistration").addClass("is-hidden");break;case 3:$("#cuRegistration").addClass("is-hidden"),$("#uRegistration").addClass("is-hidden"),$("#cRegistration").removeClass("is-hidden")}}$(document).ready(function(){function i(i,a,t,n,r,s){var u={firstName:i,lastName:a,phoneNumber:t,email:n,password:r,charityKey:s};console.log(u),$.post("/api/register",u).then(function(i){window.location.replace("/login")}).catch(e)}function e(i){$("#alert .msg").text(i.responseJSON),$("#alert").fadeIn(500)}var a=$("form.signup-user"),t=$("form.signup-charityuser"),n=$("form.signup-charity"),r=$("input#u-firstName-input"),s=$("input#u-lastName-input"),u=$("input#u-phoneNumber-input"),m=$("input#u-email-input"),o=$("input#u-password-input"),l=$("input#cu-firstName-input"),p=$("input#cu-lastName-input"),c=$("input#cu-phoneNumber-input"),d=$("input#cu-email-input"),h=$("input#cu-password-input"),y=$("input#u-charitykey-input"),v=$("input#charityName-input"),N=$("input#c-phoneNumber-input"),f=$("input#c-email-input"),g=$("input#charitykey-input"),b=$("textarea#c-description-input");a.on("submit",function(e){e.preventDefault();var a={firstName:r.val().trim(),lastName:s.val().trim(),phoneNumber:u.val().trim(),email:m.val().trim(),password:o.val().trim(),charityKey:null};a.firstName&&a.lastName&&a.phoneNumber&&a.email&&a.password&&(i(a.firstName,a.lastName,a.phoneNumber,a.email,a.password,a.charityKey),r.val(""),s.val(""),u.val(""),m.val(""),o.val(""))}),t.on("submit",function(e){e.preventDefault(),$.get("/api/charity").then(function(e){for(var a=!1,t=y.val().trim(),n=0;n<e.length;n++)if(e[n].charityKey===t){a=!0;break}if(a){var r={firstName:l.val().trim(),lastName:p.val().trim(),phoneNumber:c.val().trim(),email:d.val().trim(),password:h.val().trim(),charityKey:y.val().trim()};r.firstName&&r.lastName&&r.phoneNumber&&r.email&&r.password&&r.charityKey&&i(r.firstName,r.lastName,r.phoneNumber,r.email,r.password,r.charityKey)}else $(".verifyKeyMsg").text("Invalid charity key")})}),n.on("submit",function(i){i.preventDefault();var a={name:v.val().trim(),phoneNumber:N.val().trim(),email:f.val().trim(),charityKey:g.val().trim(),description:b.val()};a.name&&a.phoneNumber&&a.email&&a.charityKey&&a.description&&function(i,a,t,n,r){var s={name:i,phoneNumber:a,email:t,charityKey:n,description:r};console.log(s),$.post("/api/registerCharity",s).then(function(i){window.location.replace("/register")}).catch(e)}(a.name,a.phoneNumber,a.email,a.charityKey,a.description)})});var charityUser;